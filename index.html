<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

    <title>Image annotator by rolisz</title>
  </head>

  <body>

    <header>
      <div class="container">
        <h1>Image annotator</h1>
        <h2>Tool for annotating images in Python, using Flask and SimpleCV</h2>

        <section id="downloads">
          <a href="https://github.com/rolisz/image_annotator/zipball/master" class="btn">Download as .zip</a>
          <a href="https://github.com/rolisz/image_annotator/tarball/master" class="btn">Download as .tar.gz</a>
          <a href="https://github.com/rolisz/image_annotator" class="btn btn-github"><span class="icon"></span>View on GitHub</a>
        </section>
      </div>
    </header>

    <div class="container">
      <section id="main_content">
        <h1>
<a name="image-annotator" class="anchor" href="#image-annotator"><span class="octicon octicon-link"></span></a>Image Annotator</h1>

<p>This is a tool for annotating images in Python, using <a href="http://flask.pocoo.org/">Flask</a> and <a href="http://simplecv.org/">SimpleCV</a> and, optionally, <a href="http://scikit-learn.org/stable/">scikit-learn</a> in the backend, and jQuery and <a href="http://odyniec.net/projects/imgareaselect/">imgAreaSelect</a> on the frontend.</p>

<p>Flask is used to serve up images in the browser. There the bounding box of the regions of interest can be selected and given a label and sent back to the server to save. </p>

<p>If you have an heuristic that can give you approximate locations of regions of interest, they can be served up from the database to speed up the annotation process. Also, if you already have a (partially) working scikit-learn model to classify images, it can be used to suggest labels for the selection. </p>

<h3>
<a name="usage" class="anchor" href="#usage"><span class="octicon octicon-link"></span></a>Usage</h3>

<p>After you've downloaded the tarball/zip from GitHub, you need to set up the config file. There are five settings to configure:</p>

<ul>
<li>DATABASE - location of the sqlite3 database file</li>
<li>DEBUG - if True when making predictions there will be some files saved in the tmp folder</li>
<li>SK_MODEL - <em>optional</em> location to pickled file of the scikit-learn model</li>
<li>SK_LABEL - <em></em>optional, but must be given if SK_MODEL is declared</em> location to the pickled file of the scikit-learn label encoder
*PATCH_SIZE - <em></em>optional, but must be given if SK_MODEL is declared</em> the dimensions of the square to which to resize blobs before passing to the scikit-learn model for prediction. </li>
</ul><p>The images you want annotated should be named sequentially, 0.jpg, 1.jpg, and so on and they should be put in the static/img folder. </p>

<p>The sqlite3 database files needs to be created and the tables from schema.sql need to be created using the following command:</p>

<p><code>sqlite3 schema.sql &gt; path/to/db</code></p>

<p>If you have an heuristic to generate blobs, you should insert them into the blobs table, with the following details: image_name, x, y, width and height. </p>

<p>Last step is to run flask_annotator.py and then point your browser to 127.0.0.1:5000. You should see your first image, ready to be annotated. </p>

<p>After you have annotated several images, you can go to 127.0.0.1:5000/admin to see a list of your annotations and you can correct them or delete them. </p>
      </section>
    </div>

              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-20666419-2");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>
